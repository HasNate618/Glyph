# Glyph keymaps
#
# This file is loaded on startup from:
#   %APPDATA%\Glyph\keymaps.yaml
#
# Schema:
# bindings: [ { key, label, action?, children? } ]
#
# Notes:
# - key can be multi-character (ex: "mx"), which is useful for sequences like wmx.
# - To use a named multi-letter key as a *single* step (e.g., Win, Left, Enter, F1), use either:
#     - keyTokens: ["Win"]
#     - or embed tokens inside key with angle brackets: key: "w<Win>" (Win after 'w')
#   This avoids ambiguity between a named key ("Win") and typing a sequence of letters ('w''i''n').
# - action must be a known action id; unknown actions are skipped (but the prefix label stays).

bindings:
  - key: o
    label: Open
    children:
      - key: b
        label: Open Browser
        action: openBrowser
      - key: t
        label: Terminal
        exec: wt
      - key: m
        label: Task Manager
        exec: taskmgr
      - key: v
        label: VSCode
        exec: code
      - key: s
        label: Settings
        send: Win+I
      - key: sp
        label: Spotify
        exec: '%APPDATA%\Spotify\Spotify.exe'
      - key: st
        label: Steam
        exec: 'C:\Program Files (x86)\Steam\steam.exe'
      - key: n
        label: Notepad
        exec: notepad
      - key: d
        label: Discord
        exec: '%LOCALAPPDATA%\Discord\Update.exe'
        execArgs: --processStart Discord.exe
      - key: f
        label: File
        exec: explorer
  - key: m
    label: Media
    children:
      - key: p
        label: Play / Pause
        action: mediaPlayPause
      - key: n
        label: Next Track
        action: mediaNext
      - key: b
        label: Previous Track
        action: mediaPrev
      - key: m
        label: Toggle Volume Mute
        action: volumeMute

  - key: Win
    label: Windows
    children:
      - key: l
        label: Lock
        send: Win+L
      - key: sl
        label: Sleep
        exec: rundll32.exe
        execArgs: 'powrprof.dll,SetSuspendState 0,1,0'
      - key: sd
        label: Shutdown
        exec: shutdown
        execArgs: '/s /t 0'
      - key: rs
        label: Restart
        exec: shutdown
        execArgs: '/r /t 0'
      - key: d
        label: Show Desktop
        send: Win+D

  - key: w
    label: Manage Windows
    children:
      - key: n
        label: Minimize
        action: windowMinimize
      - key: m
        label: Maximize
        send: Win+Shift+Up
      - key: t
        label: Alt+Tab
        send: Alt+Tab
      - key: q
        label: Close
        send: Alt+F4
      - key: v
        label: Task View
        send: Win+Tab
      - key: s
        label: Snap
        children:
          - key: left
            label: Snap Left
            send: Win+Left
          - key: right
            label: Snap Right
            send: Win+Right
          - key: up
            label: Snap Maximize
            send: Win+Up
          - key: down
            label: Snap Minimize
            send: Win+Down
      - key: v
        label: Move Between Monitors
        children:
          - key: h
            label: Move Left Monitor
            send: Win+Shift+Left
          - key: l
            label: Move Right Monitor
            send: Win+Shift+Right

  - key: t
    label: Text
    children:
      - key: c
        label: Copy
        send: Ctrl+C
      - key: v
        label: Paste
        send: Ctrl+V
      - key: x
        label: Cut
        send: Ctrl+X
      - key: a
        label: Select All
        send: Ctrl+A
      - key: u
        label: Undo
        send: Ctrl+Z
      - key: r
        label: Replace
        send: Ctrl+H
      - key: f
        label: Find
        send: Ctrl+F
                  
      # Vim-style operations: use multi-stroke keys for safe, program-friendly edits
      - key: y
        label: Yank Line
        steps:
          - send: Home
          - send: Shift+End
          - send: Ctrl+C
      - key: d
        label: Delete Line
        steps:
          - send: Home
          - send: Shift+End
          - send: Ctrl+X
      - key: p
        label: Duplicate Line
        steps:
          - send: Home
          - send: Shift+End
          - send: Ctrl+C
          - send: End
          - send: Enter
          - send: Ctrl+V

      # Text expansion macros
      - key: e
        label: Expansion
        children:
          - key: e
            label: Email
            type: 'your.name@example.com'
          - key: a
            label: Address
            type: '123 Example St. City, State ZIP'
          - key: w
            label: Website
            type: 'https://example.com'
          - key: l
            label: LinkedIn
            type: 'https://www.linkedin.com/in/yourprofile'
          - key: p
            label: Phone
            type: '+1 (555) 123-4567'
          
          # Date/time insertions
          # Use .NET DateTime format strings. Examples:
          #  yyyy-MM-dd        -> 2026-01-28
          #  HH:mm:ss          -> 14:30:05 (24-hour)
          #  hh:mm tt          -> 02:30 PM (12-hour with AM/PM)
          #  h:mm:ss tt        -> 2:30:05 PM (12-hour, no leading zero)
          #  yyyy-MM-dd HH:mm  -> 2026-01-28 14:30
          #  MMMM d, yyyy      -> April 9, 2019 (full month name, no leading zero)
          # Token syntax: {{now:<format>}} for local time, {{utcnow:<format>}} for UTC.
          - key: d
            label: Insert Date
            type: '{{now:MMMM d, yyyy}}'
          - key: t
            label: Insert Time
            type: '{{now:h:mm:ss tt}}'
          - key: dt
            label: Insert Date & Time
            type: '{{now:MMMM d, yyyy h:mm:ss tt}}'

  - key: ","
    label: Glyph Settings
    children:
      - key: o
        label: Open Glyph GUI
        action: openGlyphGui
      - key: k
        label: Open Keymap Editor
        action: openGlyphKeymapEditor
      - key: c
        label: Open Config Folder
        action: openConfig
      - key: l
        label: Open Log Folder
        action: openLogs
      - key: r
        label: Reload keymaps
        action: reloadKeymaps
      - key: b
        label: Toggle Breadcrumbs Mode
        action: toggleBreadcrumbsMode
      - key: q
        label: Quit Glyph
        action: quitGlyph
      - key: t
        label: Theme
        children:
          - key: f
            label: Fluent
            setTheme: 'fluent'
          - key: c
            label: Catppuccin Mocha
            setTheme: 'catppuccinMocha'
          - key: l
            label: Light
            setTheme: 'light'
          - key: n
            label: Nord
            setTheme: 'nord'
          - key: u
            label: Darcula
            setTheme: 'darcula'
          - key: r
            label: RosePine
            setTheme: 'rosePine'
          - key: d
            label: Dark
            setTheme: 'dark'
          - key: t
            label: Tokyo Night
            setTheme: 'tokyoNight'

  - key: g
    label: Git
    children:
      - key: s
        label: Status
        steps:
          - type: git status
          - send: Enter
      - key: a
        label: Add All
        steps:
          - type: git add .
          - send: Enter
      - key: c
        label: Commit
        steps:
          - type: 'git commit -m ""'
          - send: Left
      - key: p
        label: Push
        steps:
          - type: git push
          - send: Enter
      - key: l
        label: Pull
        steps:
          - type: git pull
          - send: Enter
      - key: b
        label: Branches
        steps:
          - type: git branch
          - send: Enter
      - key: f
        label: Fetch
        steps:
          - type: git fetch
          - send: Enter
      - key: m
        label: Merge
        type: git merge
      - key: r
        label: Rebase
        type: git rebase
      - key: d
        label: Diff
        steps:
          - type: git diff
          - send: Enter
      - key: co
        label: Checkout
        type: git checkout

  - key: ss
    label: Screenshot
    send: Win+Shift+S
  
  - key: p
    label: Program
    action: programSpecificLayer

apps:
  - process: Spotify
    bindings:
      - key: p
        label: Play / Pause
        action: mediaPlayPause
      - key: n
        label: Next Track
        action: mediaNext
      - key: b
        label: Previous Track
        action: mediaPrev
      - key: k
        label: Search
        send: Ctrl+K
      - key: s
        label: Shuffle
        send: Ctrl+S
      - key: r
        label: Repeat
        send: Ctrl+R
      - key: q
        label: Queue
        send: Ctrl+Q
      - key: u
        label: Jump to Playing Now
        send: Ctrl+U

  - process: Blender
    bindings:
      - key: r
        label: Render
        send: F12
      - key: R
        label: Render in Viewport
        send: Shift+Z
      - key: Tab
        label: Toggle Edit/Object Mode
        send: Tab
      # Transform operations (grab, scale, rotate, delete, duplicate + reset)
      - key: t
        label: Transform
        children:
          - key: g
            label: Grab/Move
            send: G
          - key: s
            label: Scale
            send: S
          - key: r
            label: Rotate
            send: R
          - key: x
            label: Delete
            send: X
          - key: d
            label: Duplicate
            send: Shift+D
          # Reset transforms with Alt
          - key: G
            label: Reset Location
            send: Alt+G
          - key: S
            label: Reset Scale
            send: Alt+S
          - key: R
            label: Reset Rotation
            send: Alt+R
      # View/Viewport operations
      - key: z
        label: View
        children:
          - key: z
            label: Viewport Shading
            send: Z
          - key: '.'
            label: Frame Selected
            send: NumpadPeriod
          - key: '/'
            label: Toggle Wireframe
            send: Z
      # Visibility and hide operations
      - key: h
        label: Visibility
        children:
          - key: h
            label: Hide Selected
            send: H
          - key: H
            label: Hide Unselected
            send: Shift+H
          - key: a
            label: Show All
            send: Alt+H
      # Hierarchy and linking operations
      - key: p
        label: Hierarchy
        children:
          - key: m
            label: Mirror
            send: Ctrl+M
          - key: p
            label: Parent
            send: Ctrl+P
          - key: l
            label: Link/Make Library
            send: Ctrl+L

  - process: Discord
    bindings:
      - key: m
        label: Toggle Mute
        send: Ctrl+Shift+M

  - process: WindowsTerminal
    bindings:
      - key: f
        label: Fetch
        steps:
          - type: fastfetch
          - send: Enter
      - key: ","
        label: Settings
        send: Ctrl+, 
      - key: p
        label: Switch to Powershell
        steps:
          - type: powershell
          - send: Enter
      - key: c
        label: Switch to Command Prompt
        steps:
          - type: cmd
          - send: Enter
      - key: 1
        label: Tab 1
        send: Ctrl+Alt+1
      - key: 2
        label: Tab 2
        send: Ctrl+Alt+2
      - key: 3
        label: Tab 3
        send: Ctrl+Alt+3
      - key: t
        label: New Tab
        send: Ctrl+Shift+T
      - key: w
        label: Close Tab
        send: Ctrl+Shift+W

  - name: VSCode
    processes: [ Code, cursor ]
    bindings:
      - key: P
        label: Command Palette
        send: Ctrl+Shift+P
      - key: p
        label: Quick Open File
        send: Ctrl+P
      - key: g
        label: Go to Line
        send: Ctrl+G
      - key: e
        label: Toggle Explorer
        send: Ctrl+Shift+E
      - key: f
        label: Find
        send: Ctrl+F
      - key: F
        label: Find in Files
        send: Ctrl+Shift+F
      - key: h
        label: Replace
        send: Ctrl+H
      - key: s
        label: Save All
        send: Ctrl+K S
      - key: '['
        label: Toggle Side Bar
        send: Ctrl+B
      - key: ']'
        label: Toggle Secondary Side Bar
        send: Ctrl+Alt+B
      - key: j
        label: Toggle Bottom Panel
        send: Ctrl+J
      - key: '`'
        label: Toggle Terminal
        send: Ctrl+`
      - key: d
        label: Debug
        send: Ctrl+Shift+D
      - key: G
        label: Source Control
        send: Ctrl+Shift+G
      - key: X
        label: Extensions
        send: Ctrl+Shift+X
      - key: ','
        label: Settings
        send: Ctrl+,
      - key: K
        label: Keyboard Shortcuts
        send: Ctrl+K Ctrl+S
      - key: n
        label: New File
        send: Ctrl+Alt+Win+N
      - key: w
        label: New Window
        send: Ctrl+Shift+N

groups:
  - name: Browser
    processes: [ chrome, msedge, firefox, brave, opera, zen ]
    bindings:
      - key: t
        label: New Tab
        send: Ctrl+T
      - key: n
        label: New Window
        send: Ctrl+N
      - key: w
        label: Close Tab
        send: Ctrl+W
      - key: l
        label: Focus Address Bar
        send: Ctrl+L
      - key: r
        label: Reload
        send: Ctrl+R
      - key: R
        label: Hard Reload
        send: Ctrl+Shift+R
      - key: f
        label: Find
        send: Ctrl+F
      - key: h
        label: History
        send: Ctrl+H
      - key: u
        label: Reopen Closed Tab
        send: Ctrl+Shift+T
      - key: d
        label: Bookmark Page
        send: Ctrl+D
      - key: j
        label: Downloads
        send: Ctrl+J
      - key: c
        label: Settings
        send: Ctrl+,
      - key: p
        label: Print
        send: Ctrl+P
      - key: F
        label: Fullscreen
        send: F11

  - name: JetBrains
    processes: [ idea64, pycharm64, webstorm64, datagrip64, clion64, studio64 ]
    bindings:
      - key: '['
        label: Toggle Side Bar
        send: Ctrl+Shift+E
      - key: f
        label: Find in Files
        send: Ctrl+Shift+F
      - key: r
        label: Run
        send: Ctrl+F5
      - key: n
        label: New File
        send: Alt+Insert
      - key: t
        label: Run Tests
        send: Ctrl+Shift+F10

