<Window x:Class="Glyph.App.UI.KeymapEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Keymap Editor" Height="800" Width="900"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,12">
            <TextBlock FontSize="20" FontWeight="SemiBold" Text="Keymap Editor" />
            <TextBlock x:Name="StatusText" FontSize="11" Foreground="Gray" Margin="0,4,0,0" Text="Ready" />
        </StackPanel>

        <!-- Main Content - Scrollable -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel x:Name="BindingsContainer" Orientation="Vertical">
                <!-- Global Bindings Section -->
                <GroupBox Header="Global Bindings" Margin="0,0,0,12">
                    <StackPanel x:Name="GlobalBindingsPanel" Margin="8">
                        <!-- Bindings will be added here dynamically -->
                    </StackPanel>
                </GroupBox>

                <!-- Per-App Bindings Section -->
                <GroupBox Header="Per-App Bindings" Margin="0,0,0,12">
                    <StackPanel x:Name="AppBindingsPanel" Margin="8">
                        <TextBlock TextWrapping="Wrap" Foreground="Gray" FontSize="11" Margin="0,0,0,8">
                            Configure keymaps that apply only when specific applications are focused.
                        </TextBlock>
                        <!-- App bindings will be added here dynamically -->
                        <Button x:Name="AddAppButton" Content="+ Add App" Margin="0,8,0,0" Padding="8,4" HorizontalAlignment="Left" Click="AddAppButton_Click" />
                    </StackPanel>
                </GroupBox>

                <!-- App Groups Section -->
                <GroupBox Header="App Groups" Margin="0,0,0,12">
                    <StackPanel x:Name="AppGroupsPanel" Margin="8">
                        <TextBlock TextWrapping="Wrap" Foreground="Gray" FontSize="11" Margin="0,0,0,8">
                            Create groups of applications that share the same keymaps.
                        </TextBlock>
                        <!-- App groups will be added here dynamically -->
                        <Button x:Name="AddGroupButton" Content="+ Add Group" Margin="0,8,0,0" Padding="8,4" HorizontalAlignment="Left" Click="AddGroupButton_Click" />
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <!-- Footer with Actions -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button x:Name="SaveButton" Content="Save to File" Padding="12,6" Margin="0,0,8,0" Click="SaveButton_Click" />
            <Button x:Name="ReloadButton" Content="Reload from File" Padding="12,6" Margin="0,0,8,0" Click="ReloadButton_Click" />
            <Button x:Name="RevealButton" Content="Reveal Config File" Padding="12,6" Click="RevealButton_Click" />
        </StackPanel>
    </Grid>
</Window>
